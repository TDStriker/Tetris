Index: src/main/java/org/richyrich/tetris/SpinnyText.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package org.richyrich.tetris;\r\n\r\nimport java.awt.*;\r\n\r\npublic class SpinnyText {\r\n    String str;\r\n    int strWidth;\r\n    int y;\r\n    int x;\r\n\r\n    //  Units: Pixels per second\r\n    int velocityX;\r\n    int velocityY;\r\n\r\n    float rotSpeed; //number of rotations/second\r\n    float theta;\r\n\r\n    Color color;\r\n    Font font;\r\n\r\n    public SpinnyText(int y, int x, float rotSpeed, float theta, Color color, Font font) {\r\n        this.y = y;\r\n        this.x = x;\r\n        this.rotSpeed = rotSpeed;\r\n        this.theta = theta;\r\n        this.color = color;\r\n        this.font = font;\r\n\r\n        this.strWidth = 0;\r\n        this.velocityX = 0;\r\n        this.velocityY = 150;\r\n    }\r\n\r\n    public void update(int elapsedTimeMillis, String str) {\r\n        theta += (2 * Math.PI * rotSpeed) * (elapsedTimeMillis / 1000f);\r\n        this.str = str;\r\n\r\n        screenSaver(elapsedTimeMillis,dim);\r\n    }\r\n\r\n    public void render(Graphics2D g){\r\n        g.setColor(color);\r\n        g.setFont(font);\r\n        FontMetrics fontMetrics = g.getFontMetrics();\r\n        strWidth = fontMetrics.stringWidth(str);\r\n        g.translate(x,y);\r\n        g.rotate(theta); //g.rotate rotates around 0,0\r\n        g.drawString(str, 0 - (strWidth / 2), 0);\r\n    }\r\n\r\n    private void screenSaver(int elapsedTimeMillis, Dimension dim){\r\n        double textExtentX = Math.abs(strWidth/2 * Math.cos(theta));\r\n        double textExtentY = Math.abs(strWidth/2 * Math.sin(theta));\r\n\r\n        if((x - (textExtentX)) <= 0 || (x + (textExtentX)) >= dim.width){\r\n            velocityX = -velocityX;\r\n            rotSpeed = -rotSpeed;\r\n        }\r\n        if((y - (textExtentY)) <= 0 || (y + (textExtentY)) >= dim.height){\r\n            velocityY = -velocityY;\r\n            rotSpeed = -rotSpeed;\r\n        }\r\n\r\n        x += (velocityX * (elapsedTimeMillis/1000f));\r\n        y += (velocityY * (elapsedTimeMillis/1000f));\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/org/richyrich/tetris/SpinnyText.java b/src/main/java/org/richyrich/tetris/SpinnyText.java
--- a/src/main/java/org/richyrich/tetris/SpinnyText.java	(revision ce73f9ca88d09890644f6193455eab369bfe69fe)
+++ b/src/main/java/org/richyrich/tetris/SpinnyText.java	(date 1614036959761)
@@ -31,7 +31,7 @@
         this.velocityY = 150;
     }
 
-    public void update(int elapsedTimeMillis, String str) {
+    public void update(int elapsedTimeMillis, String str, Dimension dim) {
         theta += (2 * Math.PI * rotSpeed) * (elapsedTimeMillis / 1000f);
         this.str = str;
 
